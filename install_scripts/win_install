#Put deps in own folder
cd ..
mkdir deps
cd deps

# Get new version of mingw!
wget https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/mingw-w64-v5.0.3.tar.bz2
tar jxf mingw-w64-v5.0.3.tar.bz2
mkdir mingw-w64-build
cd mingw-w64-build

../mingw-w64-v5.0.3/configure  --target=x86_64-w64-mingw32 --disable-multilib
make
sudo make install
cd ..
mkdir mingw-w64-build-headers
cd mingw-w64-build-headers
../mingw-w64-v5.0.3/configure --target=x86_64-w64-mingw32 --prefix /usr/local
ln -s /usr/local/x86_64-w64-mingw32 /usr/local/mingw
mkdir -p /usr/local/x86_64-w64-mingw32/lib
ln -s /usr/local/x86_64-w64-mingw32/lib /usr/local/x86_64-w64-mingw32/lib64
cd ..

mkdir mingw-w64-build-gcc
cd mingw-w64-build-gcc
../mingw-w64-v5.0.3/configure --target=x86_64-w64-mingw32 --disable-multilib
make all-gcc
make install-gcc
cd ..

mkdir mingw-w64-build-crt
cd mingw-w64-build-crt
../mingw-w64-v5.0.3/configure --target=x86_64-w64-mingw32
make
make install
cd ..

cd mingw-w64-build-gcc
make
make install
cd ..

gem install nymph-generate
# git clone https://github.com/yvanvds/yse-soundengine
# cd yse-soundengine
# yes n | ./make_linux_release
# sudo make install
# cd ..
git clone https://github.com/open-source-parsers/jsoncpp.git && cd jsoncpp
python amalgamate.py
sudo mv dist/json* ../../nymph-game-engine/include/
cd ..

git clone https://github.com/leethomason/tinyxml2.git && cd tinyxml2 && \
    git checkout tags/6.0.0
cmake .
make
sudo make install
cd ..

git clone https://github.com/ChaiScript/ChaiScript.git && cd ChaiScript && \
    git checkout tags/v6.0.0
cmake -DBUILD_TESTING=false -DBUILD_MODULES=false -DUSE_LIBCXX=false .
make chaiscript_stdlib-6.0.0
sudo mv libchaiscript_stdlib-6.0.0.so /usr/local/lib/
sudo mv include/chaiscript ../../nymph-game-engine/include/chaiscript
cd ..

git clone https://github.com/sainteos/tmxparser
cd tmxparser
mkdir build
cd build
cmake ..
make
sudo make install
cd

#Get glcorearb.h
sudo mkdir /usr/local/include/GL
sudo wget -O /usr/local/include/GL/glcorearb.h https://www.khronos.org/registry/OpenGL/api/GL/glcorearb.h

#Get tinydir.h
sudo wget -O /usr/local/include/tinydir.h https://raw.githubusercontent.com/cxong/tinydir/master/tinydir.h
