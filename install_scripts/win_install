#Install mxe for win cross compile
brew install \
    autoconf automake coreutils gdk-pixbuf gettext \
    gnu-sed gnu-tar intltool libtool p7zip wget xz

git clone https://github.com/mxe/mxe.git
cd mxe
make

export PATH="$PATH:${PWD}"
export CC=mingw-w64-gcc
export CXX=mingw-w64-g++

#Install development dependencies
brew install git-lfs
brew install lua
brew install premake
brew install doxygen
brew install find-utils
brew install xmlstarlet
gem install nymph-generate
npm install --global create-dmg

#Install build dependencies
brew install freetype
brew install glfw
brew install glew
brew install libpng
brew install devil
brew install tinyxml2

cd ..
mkdir deps
cd deps
# git clone https://github.com/yvanvds/yse-soundengine
# cd yse-soundengine
# yes n | ./make_mac_release
# sudo make install
# cd ..

git clone https://github.com/auriamg/macdylibbundler.git
cd macdylibbundler
make
sudo make install
cd ..

git clone https://github.com/ChaiScript/ChaiScript.git && cd ChaiScript && \
    git checkout tags/v6.0.0
cmake -DBUILD_TESTING=false -DBUILD_MODULES=false -DBUILD_SHARED_LIBS=ON .
make chaiscript_stdlib-6.0.0
sudo mv libchaiscript_stdlib-6.0.0.so /usr/local/lib/
sudo mv include/chaiscript /usr/local/include/chaiscript
cd ..

git clone https://github.com/open-source-parsers/jsoncpp.git && cd jsoncpp
python amalgamate.py
ls
pwd
mv dist/json ../../nymph-game-engine/include/json
mv dist/jsoncpp.cpp ../../nymph-game-engine/include/
ls
cd ..

git clone https://github.com/sainteos/tmxparser
cd tmxparser
mkdir build
cd build
cmake ..
make
sudo make install
cd

#Get tinydir.h
sudo wget -O /usr/local/include/tinydir.h https://raw.githubusercontent.com/cxong/tinydir/master/tinydir.h

export DYLD_LIBRARY_PATH="$DYLD_LIBRARY_PATH:/usr/local/lib"
